<div id="form">
<h2>Escríbenos</h2>
<div *ngIf="apiResponse" class="api-response">
  {{ apiResponse }}
</div><br>

<form #userForm="ngForm" (ngSubmit)="onSubmit(userForm)">
  <label for="name" aria-required="true">Nombre y Apellido</label>
  <input type="text" id="name" name="name" [(ngModel)]="user.name" required>
  <br><span *ngIf="userForm.submitted && userForm.controls['name']?.hasError('required')">El nombre es necesario</span>

  <label for="phone">Teléfono</label>
  <input type="number" name="phone" [(ngModel)]="user.phone" pattern="[1-9][0-9]*" required>
  <br>
  <span *ngIf="userForm.submitted && userForm.controls['phone']?.hasError('required')">El número de teléfono es necesario</span>
  

  <label for="email">Correo</label>
  <input type="email" name="email" [(ngModel)]="user.email"  pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}" required>
  <br>
  <span *ngIf="userForm.controls['email']?.hasError('pattern')">El correo no es válido</span>
  <span *ngIf="userForm.submitted && userForm.controls['email']?.hasError('required')">El correo es necesario</span>

  <label for="message">Mensaje</label>
  <textarea name="message" id="message" cols="30" rows="10" [(ngModel)]="user.message" required></textarea>
  <br><span *ngIf="userForm.submitted && userForm.controls['message']?.hasError('required')">Debes ingresar un mensaje</span>

  <input type="submit" id="submit" [disabled]="!userForm.form.valid" value="Enviar mensaje">
</form>
</div><br><br>